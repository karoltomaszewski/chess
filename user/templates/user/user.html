{% extends 'base.html' %}

{% load static %}

{% block title %}
    {{ username }}
{% endblock %}

{% block css_files %}
    <link href="{% static '/user/user.css' %}" rel="stylesheet" />
{% endblock %} 

{% block content %}
    <main>

            <section id="top">
                <div id="username">
                    <h1>{{ username }}</h1>
                </div>

                {% if tags|length > 0 %}
                    <div id="tags">
                        {% for tag in tags %}
                            <div class="tag {{tag.type}}">
                                {{tag.title}}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
                <!--
                <div id="results">

                    <div class="ratingbox">
                        <h3>BULLET</h3>
                        <span class="rating">{{ ratings.bullet_rating }}</span>
                    </div>
                    <div class="ratingbox">
                        <h3>BLITZ</h3>
                        <span class="rating">{{ ratings.blitz_rating }}</span>
                    </div>
                    <div class="ratingbox">
                        <h3>RAPID</h3>
                        <span class="rating">{{ ratings.rapid_rating }}</span>
                    </div>

                    <div></div>
                    
                    <div class="results_box">
                        <h3>WHITE</h3>
                        <span class="wins">{{ overall_results.white.wins }}</span> - 
                        <span class="draws">{{ overall_results.white.draws }}</span> - 
                        <span class="loses">{{ overall_results.white.loses }}</span>  
                    </div>
                    <div class="results_box">
                        <h3>BLACK</h3>
                        <span class="wins">{{ overall_results.black.wins }}</span> - 
                        <span class="draws">{{ overall_results.black.draws }}</span> - 
                        <span class="loses">{{ overall_results.black.loses }}</span>
                    </div>
                    <div class="results_box">
                        <h3>TIME USAGE</h3>
                        <span class="time">{{time.percentage_time}}%</span>
                    <div>
                </div>
                -->
            </section>
    

            <div class="menuAll">
                <div class="colorsMenu">
                    <div class="Menu">
                    <button type="button" class="otworzMenu">White
                        <div class="otworzMenuResults">
                            <a class="wins">{{ overall_results.white.wins }}</a> - 
                            <a class="draws">{{ overall_results.white.draws }}</a> - 
                            <a class="loses">{{ overall_results.white.loses }}</a>
                        </div>
                    </button>
                        <section id="center" class="contentMenu">
                            <div class="openings">
                                <table class="openingsTable">
                                    <tr>
                                        <th id="openingsTableHeader1">
                                        </th>
                                        <th class="wins"> 
                                            W
                                        </th>
                                        <th class="draws"> 
                                            D
                                        </th>
                                        <th class="loses"> 
                                            L
                                        </th>
                                        <th class="win%"> 
                                            Win%
                                        </th>
                                    </tr>
                                    {% for opening, results in openings.items %}
                                        {% if results.white.games is not 0 %}
                                        <tr>
                                            <td class="openingsOpening" id="openingsFirstCell"> 
                                                <div class="openingsOpeningDiv">{{ opening }}</div>
                                            </td>
                                            <td class="openingsStats"> 
                                                <a class="wins"> {{ results.white.wins }} </a>
                                            </td>
                                            <td class="openingsStats"> 
                                                <a class="draws"> {{ results.white.draws }} </a>
                                            </td>
                                            <td class="openingsStats"> 
                                                <a class="loses"> {{ results.white.loses }}</a>
                                            </td>
                                            <td class="openingsStats" id="openingsLastCell">
                                                <a class="win%"> {{ results.white.win_rate }}%</a>
                                            </td>
                                        </tr>
                                        {% endif %}
                                    {% endfor %}
                                </table>
                            </div>
                        </section>
                    </div>
                    
                    <div class="Menu">
                    <button type="button" class="otworzMenu">Black
                        <div class="otworzMenuResults">
                            <a class="wins">{{ overall_results.black.wins }}</a> - 
                            <a class="draws">{{ overall_results.black.draws }}</a> - 
                            <a class="loses">{{ overall_results.black.loses }}</a>
                        </div>
                    </button>
                        <section id="center" class="contentMenu">
                            <div class="openings">
                                <table class="openingsTable">
                                    <tr>
                                        <th id="openingsTableHeader1"> 
                                        </th>
                                        <th class="wins"> 
                                            W
                                        </th>
                                        <th class="draws"> 
                                            D
                                        </th>
                                        <th class="loses"> 
                                            L
                                        </th>
                                        <th class="win%" title="TEST"> 
                                            Win%
                                        </th>
                                    </tr>
                                    {% for opening, results in openings.items %}
                                        {% if results.black.games is not 0 %}
                                        <tr>
                                            <td class="openingsOpening" id="openingsFirstCell"> 
                                                <div class="openingsOpeningDiv"> {{ opening }} </div>
                                            </td>
                                            <td class="openingsStats"> 
                                                <a class="wins"> {{ results.black.wins }} </a>
                                            </td>
                                            <td class="openingsStats"> 
                                                <a class="draws"> {{ results.black.draws }} </a>
                                            </td>
                                            <td class="openingsStats"> 
                                                <a class="loses"> {{ results.black.loses }}</a>
                                            </td>
                                            <td class="openingsStats" id="openingsLastCell">
                                                <a class="win%"> {{ results.black.win_rate }}%</a>
                                            </td>
                                        </tr>
                                        {% endif %}
                                    {% endfor %}
                                </table>
                            </div>
                        </section>
                    </div>
                </div>

                <div class="statsMenu">
                    <table id="statsMenuTable">
                        <tr>
                            <th class="statsMenuTableHeader">
                            BULLET
                            </th>
                            <td class="statsMenuTableTd">
                                <a>{{ ratings.bullet_rating }}</a>
                            </td>
                        </tr>
                        <tr>
                            <th class="statsMenuTableHeader">
                            BLITZ
                            </th>
                            <td class="statsMenuTableTd">
                                <a>{{ ratings.blitz_rating }}</a>
                            </td>
                        </tr>
                        <tr>
                            <th class="statsMenuTableHeader">
                            RAPID
                            </th>
                            <td class="statsMenuTableTd">
                                <a>{{ ratings.rapid_rating }}</a>
                            </td>
                        </tr>
                        <tr>
                            <th class="statsMenuTableHeader">
                            TIME USAGE
                            </th>
                            <td class="statsMenuTableTd">
                                <a class="time">{{time.percentage_time}}%</a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>




            {% block js_scripts %}
                <script src="{% static "/user/scripts/table.js" %}"></script>
            {% endblock %}
    </main>
    
{% endblock %}